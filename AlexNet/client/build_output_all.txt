make[1]: Entering directory '/home/jin/2023_11_22_com_model/LeNet_GPU_SGX/client'
GEN  =>  Enclave/Enclave_t.h
GEN  =>  ServerSGX/Enclave_u.h
Enclave/Edger8rSyntax/Pointers.cpp: In function ‘int32_t checksum_internal(char*, size_t)’:
Enclave/Edger8rSyntax/Pointers.cpp:47:22: warning: ISO C++17 does not allow ‘register’ storage class specifier [-Wregister]
   47 |     register int32_t sum = 0;
      |                      ^~~
CXX  <=  Enclave/Edger8rSyntax/Functions.cpp
CXX  <=  Enclave/TrustedLibrary/Libc.cpp
CXX  <=  Enclave/Edger8rSyntax/Arrays.cpp
CXX  <=  Enclave/Edger8rSyntax/Pointers.cpp
CXX  <=  Enclave/TrustedLibrary/Thread.cpp
CXX  <=  Enclave/Edger8rSyntax/Types.cpp
CC   <=  ServerSGX/Enclave_u.c
CC   <=  Enclave/Enclave_t.c
In file included from ServerSGX/main.cpp:23:
ServerSGX/lenet.c:14:1: warning: multi-line comment [-Wcomment]
   14 | // #define CONVOLUTE_VALID(input,output,weight)                                                                                 \
      | ^
ServerSGX/lenet.c:23:1: warning: multi-line comment [-Wcomment]
   23 | // #define CONVOLUTE_FULL(input,output,weight)                                                                                          \
      | ^
ServerSGX/lenet.c:32:1: warning: multi-line comment [-Wcomment]
   32 | // #define CONVOLUTION_FORWARD(input,output,weight,bias,action)                                 \
      | ^
ServerSGX/lenet.c:42:1: warning: multi-line comment [-Wcomment]
   42 | // #define CONVOLUTION_BACKWARD(input,inerror,outerror,weight,wd,bd,actiongrad)\
      | ^
ServerSGX/lenet.c:58:1: warning: multi-line comment [-Wcomment]
   58 | // #define SUBSAMP_MAX_FORWARD(input,output)                                                                                                            \
      | ^
ServerSGX/lenet.c:78:1: warning: multi-line comment [-Wcomment]
   78 | // #define SUBSAMP_MAX_BACKWARD(input,inerror,outerror)                                                                                 \
      | ^
ServerSGX/lenet.c:98:1: warning: multi-line comment [-Wcomment]
   98 | // #define DOT_PRODUCT_FORWARD(input,output,weight,bias,action)                         \
      | ^
ServerSGX/lenet.c:107:1: warning: multi-line comment [-Wcomment]
  107 | // #define DOT_PRODUCT_BACKWARD(input,inerror,outerror,weight,wd,bd,actiongrad) \
      | ^
ServerSGX/main.cpp:78:60: warning: backslash and newline separated by space
   78 |     shapen[0]=GETLENGTH(data);                             \
      |                                                             
ServerSGX/main.cpp:93:69: warning: backslash and newline separated by space
   93 |     shapewn[0]=GETLENGTH(weight);                                   \
      |                                                                      
ServerSGX/main.cpp:101:69: warning: backslash and newline separated by space
  101 | }                                                                   \
      |                                                                      
ServerSGX/main.cpp:108:69: warning: backslash and newline separated by space
  108 |     shapebn[0]=GETLENGTH(bias);                                     \
      |                                                                      
ServerSGX/main.cpp:113:69: warning: backslash and newline separated by space
  113 | }                                                                   \
      |                                                                      
ServerSGX/main.cpp:122:69: warning: backslash and newline separated by space
  122 | }                                                                   \
      |                                                                      
In file included from Include/intrinsic/xmmintrin.h:34,
                 from Include/intrinsic/emmintrin.h:31,
                 from Include/Eigen/src/Core/util/ConfigureVectorization.h:346,
                 from Include/Eigen/Core:22,
                 from Include/Eigen/Dense:1,
                 from Enclave/Enclave.cpp:39:
Include/intrinsic/mm_malloc.h:34:16: warning: redundant redeclaration of ‘int posix_memalign(void**, size_t, size_t)’ in same scope [-Wredundant-decls]
   34 | extern "C" int posix_memalign (void **, size_t, size_t) throw ();
      |                ^~~~~~~~~~~~~~
In file included from Enclave/Enclave.h:36,
                 from Enclave/Enclave.cpp:32:
/opt/intel/sgxsdk/include/tlibc/stdlib.h:105:23: note: previous declaration of ‘int posix_memalign(void**, size_t, size_t)’
  105 | int     _TLIBC_CDECL_ posix_memalign(void **, size_t, size_t) throw ();
      |                       ^~~~~~~~~~~~~~
In file included from Include/intrinsic/emmintrin.h:31,
                 from Include/Eigen/src/Core/util/ConfigureVectorization.h:346,
                 from Include/Eigen/Core:22,
                 from Include/Eigen/Dense:1,
                 from Enclave/Enclave.cpp:39:
Include/intrinsic/xmmintrin.h: In function ‘__m128 _mm_load_ps(const float*)’:
Include/intrinsic/xmmintrin.h:927:11: warning: cast from type ‘const float*’ to type ‘__m128*’ {aka ‘__vector(4) float*’} casts away qualifiers [-Wcast-qual]
  927 |   return *(__m128 *)__P;
      |           ^~~~~~~~~~~~~
Include/intrinsic/xmmintrin.h: In function ‘__m128 _mm_loadu_ps(const float*)’:
Include/intrinsic/xmmintrin.h:934:11: warning: cast from type ‘const float*’ to type ‘__m128_u*’ {aka ‘__vector(4) float*’} casts away qualifiers [-Wcast-qual]
  934 |   return *(__m128_u *)__P;
      |           ^~~~~~~~~~~~~~~
Include/intrinsic/xmmintrin.h: In function ‘__m128 _mm_loadr_ps(const float*)’:
Include/intrinsic/xmmintrin.h:941:19: warning: cast from type ‘const float*’ to type ‘__v4sf*’ {aka ‘__vector(4) float*’} casts away qualifiers [-Wcast-qual]
  941 |   __v4sf __tmp = *(__v4sf *)__P;
      |                   ^~~~~~~~~~~~~
In file included from Include/Eigen/src/Core/util/ConfigureVectorization.h:346,
                 from Include/Eigen/Core:22,
                 from Include/Eigen/Dense:1,
                 from Enclave/Enclave.cpp:39:
Include/intrinsic/emmintrin.h: In function ‘__m128d _mm_load_pd(const double*)’:
Include/intrinsic/emmintrin.h:127:11: warning: cast from type ‘const double*’ to type ‘__m128d*’ {aka ‘__vector(2) double*’} casts away qualifiers [-Wcast-qual]
  127 |   return *(__m128d *)__P;
      |           ^~~~~~~~~~~~~~
Include/intrinsic/emmintrin.h: In function ‘__m128d _mm_loadu_pd(const double*)’:
Include/intrinsic/emmintrin.h:134:11: warning: cast from type ‘const double*’ to type ‘__m128d_u*’ {aka ‘__vector(2) double*’} casts away qualifiers [-Wcast-qual]
  134 |   return *(__m128d_u *)__P;
      |           ^~~~~~~~~~~~~~~~
Include/intrinsic/emmintrin.h: In function ‘__m128i _mm_loadl_epi64(const __m128i_u*)’:
Include/intrinsic/emmintrin.h:712:38: warning: cast from type ‘const __m128i_u*’ {aka ‘const __vector(2) long long int*’} to type ‘__m64_u*’ {aka ‘__vector(2) int*’} casts away qualifiers [-Wcast-qual]
  712 |   return _mm_set_epi64 ((__m64)0LL, *(__m64_u *)__P);
      |                                      ^~~~~~~~~~~~~~
Include/intrinsic/emmintrin.h: In function ‘__m128i _mm_loadu_si64(const void*)’:
Include/intrinsic/emmintrin.h:718:27: warning: cast from type ‘const void*’ to type ‘__m128i_u*’ {aka ‘__vector(2) long long int*’} casts away qualifiers [-Wcast-qual]
  718 |   return _mm_loadl_epi64 ((__m128i_u *)__P);
      |                           ^~~~~~~~~~~~~~~~
Include/intrinsic/emmintrin.h: In function ‘__m128i _mm_loadu_si32(const void*)’:
Include/intrinsic/emmintrin.h:724:36: warning: cast from type ‘const void*’ to type ‘__m32_u*’ {aka ‘__vector(1) int*’} casts away qualifiers [-Wcast-qual]
  724 |   return _mm_set_epi32 (0, 0, 0, (*(__m32_u *)__P)[0]);
      |                                    ^~~~~~~~~~~~~~
Include/intrinsic/emmintrin.h: In function ‘__m128i _mm_loadu_si16(const void*)’:
Include/intrinsic/emmintrin.h:730:48: warning: cast from type ‘const void*’ to type ‘__m16_u*’ {aka ‘__vector(1) short int*’} casts away qualifiers [-Wcast-qual]
  730 |   return _mm_set_epi16 (0, 0, 0, 0, 0, 0, 0, (*(__m16_u *)__P)[0]);
      |                                                ^~~~~~~~~~~~~~
CXX  <=  Enclave/TrustedLibrary/Libcxx.cpp
In file included from ServerSGX/main.cpp:5:
ServerSGX/hybridsgx_util.h:88:6: warning: redundant redeclaration of ‘void ocall_print_string(const char*)’ in same scope [-Wredundant-decls]
   88 | void ocall_print_string(const char *str);
      |      ^~~~~~~~~~~~~~~~~~
In file included from /opt/intel/sgxsdk/include/sgx_urts.h:40,
                 from ServerSGX/main.cpp:3:
ServerSGX/Enclave_u.h:44:36: note: previous declaration of ‘void ocall_print_string(const char*)’
   44 | void SGX_UBRIDGE(SGX_NOCONVENTION, ocall_print_string, (const char* str));
      |                                    ^~~~~~~~~~~~~~~~~~
/opt/intel/sgxsdk/include/sgx_defs.h:49:48: note: in definition of macro ‘SGX_UBRIDGE’
   49 | #define SGX_UBRIDGE(attr, fname, args...) attr fname args
      |                                                ^~~~~
In file included from ServerSGX/hybridsgx_util.cpp:44:
ServerSGX/hybridsgx_util.h:88:6: warning: redundant redeclaration of ‘void ocall_print_string(const char*)’ in same scope [-Wredundant-decls]
   88 | void ocall_print_string(const char *str);
      |      ^~~~~~~~~~~~~~~~~~
In file included from /opt/intel/sgxsdk/include/sgx_urts.h:40,
                 from ServerSGX/hybridsgx_util.cpp:41:
ServerSGX/Enclave_u.h:44:36: note: previous declaration of ‘void ocall_print_string(const char*)’
   44 | void SGX_UBRIDGE(SGX_NOCONVENTION, ocall_print_string, (const char* str));
      |                                    ^~~~~~~~~~~~~~~~~~
/opt/intel/sgxsdk/include/sgx_defs.h:49:48: note: in definition of macro ‘SGX_UBRIDGE’
   49 | #define SGX_UBRIDGE(attr, fname, args...) attr fname args
      |                                                ^~~~~
CXX  <=  ServerSGX/Edger8rSyntax/Arrays.cpp
ServerSGX/util/basicSockets.cpp: In function ‘char** getIPAddresses(int)’:
ServerSGX/util/basicSockets.cpp:110:11: warning: declaration of ‘ip’ shadows a previous local [-Wshadow]
  110 |     char* ip=new char[INET_ADDRSTRLEN];
      |           ^~
ServerSGX/util/basicSockets.cpp:104:10: note: shadowed declaration is here
  104 |   string ip = getPublicIp();
      |          ^~
ServerSGX/util/basicSockets.cpp: In constructor ‘BmrNet::BmrNet(char*, int)’:
ServerSGX/util/basicSockets.cpp:152:22: warning: declaration of ‘host’ shadows a member of ‘BmrNet’ [-Wshadow]
  152 | BmrNet::BmrNet(char* host, int portno) {
      |                ~~~~~~^~~~
In file included from ServerSGX/util/basicSockets.cpp:10:
ServerSGX/util/basicSockets.h:95:16: note: shadowed declaration is here
   95 |         char * host;
      |                ^~~~
ServerSGX/util/basicSockets.cpp: In constructor ‘BmrNet::BmrNet(char*, int)’:
ServerSGX/util/basicSockets.cpp:152:22: warning: declaration of ‘host’ shadows a member of ‘BmrNet’ [-Wshadow]
  152 | BmrNet::BmrNet(char* host, int portno) {
      |                ~~~~~~^~~~
In file included from ServerSGX/util/basicSockets.cpp:10:
ServerSGX/util/basicSockets.h:95:16: note: shadowed declaration is here
   95 |         char * host;
      |                ^~~~
ServerSGX/util/basicSockets.cpp: In constructor ‘BmrNet::BmrNet(char*, int)’:
ServerSGX/util/basicSockets.cpp:152:22: warning: declaration of ‘host’ shadows a member of ‘BmrNet’ [-Wshadow]
  152 | BmrNet::BmrNet(char* host, int portno) {
      |                ~~~~~~^~~~
In file included from ServerSGX/util/basicSockets.cpp:10:
ServerSGX/util/basicSockets.h:95:16: note: shadowed declaration is here
   95 |         char * host;
      |                ^~~~
ServerSGX/util/basicSockets.cpp: In constructor ‘BmrNet::BmrNet(int)’:
ServerSGX/util/basicSockets.cpp:172:22: warning: ISO C++ forbids converting a string constant to ‘char*’ [-Wwrite-strings]
  172 |         this->host = "";
      |                      ^~
ServerSGX/util/basicSockets.cpp: In member function ‘bool BmrNet::listenNow()’:
ServerSGX/util/basicSockets.cpp:209:42: warning: conversion from ‘unsigned int’ to ‘uint16_t’ {aka ‘short unsigned int’} may change value [-Wconversion]
  209 |         serv_addr.sin_port = htons(this->port);
      |                                    ~~~~~~^~~~
ServerSGX/util/basicSockets.cpp: In member function ‘bool BmrNet::connectNow()’:
ServerSGX/util/basicSockets.cpp:296:73: warning: conversion from ‘unsigned int’ to ‘uint16_t’ {aka ‘short unsigned int’} may change value [-Wconversion]
  296 |                 serv_addr[conn].sin_port                        = htons(port);
      |                                                                         ^~~~
ServerSGX/util/basicSockets.cpp:263:25: warning: unused variable ‘server’ [-Wunused-variable]
  263 |         struct hostent *server;
      |                         ^~~~~~
ServerSGX/util/basicSockets.cpp:264:13: warning: unused variable ‘n’ [-Wunused-variable]
  264 |         int n;
      |             ^
ServerSGX/util/basicSockets.cpp: In member function ‘bool BmrNet::sendMsg(const void*, int, int)’:
ServerSGX/util/basicSockets.cpp:323:55: warning: cast from type ‘const void*’ to type ‘char*’ casts away qualifiers [-Wcast-qual]
  323 |                 n = Sockwrite(this->socketFd[conn], &((char*)data)[size - left], left);
      |                                                       ^~~~~~~~~~~
ServerSGX/util/basicSockets.cpp:31:57: note: in definition of macro ‘Sockwrite’
   31 |         #define Sockwrite(sock, data, size) write(sock, data, size)
      |                                                         ^~~~
ServerSGX/util/basicSockets.cpp:31:50: warning: conversion from ‘ssize_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   31 |         #define Sockwrite(sock, data, size) write(sock, data, size)
      |                                             ~~~~~^~~~~~~~~~~~~~~~~~
ServerSGX/util/basicSockets.cpp:323:21: note: in expansion of macro ‘Sockwrite’
  323 |                 n = Sockwrite(this->socketFd[conn], &((char*)data)[size - left], left);
      |                     ^~~~~~~~~
ServerSGX/util/basicSockets.cpp: In member function ‘bool BmrNet::receiveMsg(void*, int, int)’:
ServerSGX/util/basicSockets.cpp:32:54: warning: conversion from ‘ssize_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   32 |         #define Sockread(sock, buff, bufferSize) read(sock, buff, bufferSize)
      |                                                  ~~~~^~~~~~~~~~~~~~~~~~~~~~~~
ServerSGX/util/basicSockets.cpp:347:21: note: in expansion of macro ‘Sockread’
  347 |                 n = Sockread(this->socketFd[conn], &((char*)buff)[size-left], left);
      |                     ^~~~~~~~
ServerSGX/util/basicSockets.cpp: In function ‘int getPartyNum(char*)’:
ServerSGX/util/basicSockets.cpp:150:1: warning: control reaches end of non-void function [-Wreturn-type]
  150 | }
      | ^
In file included from ServerSGX/util/Profiler.cpp:1:
ServerSGX/util/Profiler.h: In constructor ‘Profiler::Profiler()’:
ServerSGX/util/Profiler.h:49:12: warning: ‘Profiler::bytes_rx’ will be initialized after [-Wreorder]
   49 |     size_t bytes_rx;
      |            ^~~~~~~~
ServerSGX/util/Profiler.h:44:12: warning:   ‘double Profiler::max_mem_mb’ [-Wreorder]
   44 |     double max_mem_mb;
      |            ^~~~~~~~~~
ServerSGX/util/Profiler.cpp:4:1: warning:   when initialized here [-Wreorder]
    4 | Profiler::Profiler() : running(false), total(0), mem_mb(0.0), rounds(0), bytes_tx(0), bytes_rx(0), max_mem_mb(0.0) {
      | ^~~~~~~~
ServerSGX/util/Profiler.cpp: In member function ‘void Profiler::accumulate(std::string)’:
ServerSGX/util/Profiler.cpp:34:16: warning: conversion from ‘std::chrono::duration<long int, std::ratio<1, 1000000> >::rep’ {aka ‘long int’} to ‘double’ may change value [-Wconversion]
   32 |         double us_elapsed = std::chrono::duration_cast<std::chrono::microseconds>(
      |                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
   33 |             std::chrono::system_clock::now() - start_time
      |             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
   34 |         ).count();
      |         ~~~~~~~^~
ServerSGX/util/Profiler.cpp: In member function ‘void Profiler::tag_mem()’:
ServerSGX/util/Profiler.cpp:76:12: warning: conversion from ‘std::chrono::duration<long int, std::ratio<1, 1000> >::rep’ {aka ‘long int’} to ‘double’ may change value [-Wconversion]
   74 |     double ms_elapsed = std::chrono::duration_cast<std::chrono::milliseconds>(
      |                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
   75 |         std::chrono::system_clock::now() - start_time
      |         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
   76 |     ).count();
      |     ~~~~~~~^~
ServerSGX/util/Profiler.cpp: In member function ‘void Profiler::dump_comm_bytes()’:
ServerSGX/util/Profiler.cpp:125:57: warning: conversion from ‘size_t’ {aka ‘long unsigned int’} to ‘double’ may change value [-Wconversion]
  125 |     std::cout << "Communication bytes | sent (MB): " << bytes_tx / (1024.0 * 1024.0) <<  " received (MB): " << bytes_rx / (1024.0 * 1024.0);
      |                                                         ^~~~~~~~
ServerSGX/util/Profiler.cpp:125:112: warning: conversion from ‘size_t’ {aka ‘long unsigned int’} to ‘double’ may change value [-Wconversion]
  125 |     std::cout << "Communication bytes | sent (MB): " << bytes_tx / (1024.0 * 1024.0) <<  " received (MB): " << bytes_rx / (1024.0 * 1024.0);
      |                                                                                                                ^~~~~~~~
CXX  <=  ServerSGX/util/basicSockets.cpp
Enclave/Enclave.cpp: In function ‘void sgx_encode(uint64_t*)’:
Enclave/Enclave.cpp:68:27: warning: unused parameter ‘_data’ [-Wunused-parameter]
   68 | void sgx_encode(uint64_t *_data){
      |                 ~~~~~~~~~~^~~~~
Enclave/Enclave.cpp: In function ‘void Scalar_SGX_val(uint64_t*, uint64_t*)’:
Enclave/Enclave.cpp:93:28: warning: argument to ‘sizeof’ in ‘void* memcpy(void*, const void*, size_t)’ call is the same pointer type ‘uint64_t*’ {aka ‘long unsigned int*’} as the destination; expected ‘uint64_t’ {aka ‘long unsigned int’} or an explicit length [-Wsizeof-pointer-memaccess]
   93 |         memcpy(_data, val, sizeof(val));
      |                            ^~~~~~~~~~~
Enclave/Enclave.cpp: In function ‘void relu_sgx(double*, double*, size_t)’:
Enclave/Enclave.cpp:117:23: warning: comparison of integer expressions of different signedness: ‘int’ and ‘size_t’ {aka ‘long unsigned int’} [-Wsign-compare]
  117 |         for(int i =0;i<n;i++){
      |                      ~^~
Enclave/Enclave.cpp: In function ‘void grad_relu_sgx(double*, double*, size_t)’:
Enclave/Enclave.cpp:170:23: warning: comparison of integer expressions of different signedness: ‘int’ and ‘size_t’ {aka ‘long unsigned int’} [-Wsign-compare]
  170 |         for(int i =0;i<n;i++){
      |                      ~^~
Enclave/Enclave.cpp: In function ‘void grad_maxpool_2_sgx(double*, double*, double*, int*, size_t, size_t)’:
Enclave/Enclave.cpp:42:44: warning: comparison of integer expressions of different signedness: ‘int’ and ‘long unsigned int’ [-Wsign-compare]
   42 | #define FOREACH(i,count) for (int i = 0; i < count; ++i)
      |                                            ^
Enclave/Enclave.cpp:189:9: note: in expansion of macro ‘FOREACH’
  189 |         FOREACH(b, GETLENGTH(outerror))
      |         ^~~~~~~
Enclave/Enclave.cpp:42:44: warning: comparison of integer expressions of different signedness: ‘int’ and ‘long unsigned int’ [-Wsign-compare]
   42 | #define FOREACH(i,count) for (int i = 0; i < count; ++i)
      |                                            ^
Enclave/Enclave.cpp:190:9: note: in expansion of macro ‘FOREACH’
  190 |         FOREACH(i, GETLENGTH(outerror))                                                                                                                         \
      |         ^~~~~~~
Enclave/Enclave.cpp:42:44: warning: comparison of integer expressions of different signedness: ‘int’ and ‘long unsigned int’ [-Wsign-compare]
   42 | #define FOREACH(i,count) for (int i = 0; i < count; ++i)
      |                                            ^
Enclave/Enclave.cpp:191:9: note: in expansion of macro ‘FOREACH’
  191 |         FOREACH(o0, GETLENGTH(*(outerror)))                                                                                                                     \
      |         ^~~~~~~
Enclave/Enclave.cpp:42:44: warning: comparison of integer expressions of different signedness: ‘int’ and ‘long unsigned int’ [-Wsign-compare]
   42 | #define FOREACH(i,count) for (int i = 0; i < count; ++i)
      |                                            ^
Enclave/Enclave.cpp:192:9: note: in expansion of macro ‘FOREACH’
  192 |         FOREACH(o1, GETLENGTH(**(outerror)))                                                                                                            \
      |         ^~~~~~~
Enclave/Enclave.cpp:178:34: warning: unused parameter ‘data_out_error’ [-Wunused-parameter]
  178 | void grad_maxpool_2_sgx(double * data_out_error, double * data_in_error, double * data_input,int* shape_input, size_t n_out, size_t n_in){
      |                         ~~~~~~~~~^~~~~~~~~~~~~~
CXX  <=  ServerSGX/Edger8rSyntax/Functions.cpp
CXX  <=  Enclave/Enclave.cpp
CXX  <=  ServerSGX/Edger8rSyntax/Pointers.cpp
ServerSGX/util/connect.cpp: In function ‘void initializeCommunication(int*, int)’:
ServerSGX/util/connect.cpp:59:18: warning: declaration of ‘i’ shadows a previous local [-Wshadow]
   59 |         for (int i = 0; i < 2 * num_parties; i++)
      |                  ^
ServerSGX/util/connect.cpp:47:13: note: shadowed declaration is here
   47 |         int i;
      |             ^
CXX  <=  ServerSGX/util/Profiler.cpp
LINK =>  enclave.so
There is no enclave test key<Enclave_private_test.pem>.
The project will generate a key<Enclave_private_test.pem> for test.
CXX  <=  ServerSGX/Edger8rSyntax/Types.cpp
ServerSGX/hybridsgx_util.cpp: In member function ‘sgx_enclave_id_t SGX::initial()’:
ServerSGX/hybridsgx_util.cpp:241:22: warning: declaration of ‘enclave_eid’ shadows a member of ‘SGX’ [-Wshadow]
  241 |     sgx_enclave_id_t enclave_eid=0;
      |                      ^~~~~~~~~~~
In file included from ServerSGX/hybridsgx_util.cpp:44:
ServerSGX/hybridsgx_util.h:96:26: note: shadowed declaration is here
   96 |         sgx_enclave_id_t enclave_eid = initial();
      |                          ^~~~~~~~~~~
CXX  <=  ServerSGX/TrustedLibrary/Libc.cpp
CXX  <=  ServerSGX/TrustedLibrary/Libcxx.cpp
In file included from ServerSGX/main.cpp:23:
ServerSGX/lenet.c: In function ‘uint8 get_result(Feature*, uint8)’:
ServerSGX/lenet.c:204:19: warning: unused variable ‘outlen’ [-Wunused-variable]
  204 |         const int outlen = GETCOUNT(features->output);
      |                   ^~~~~~
CXX  <=  ServerSGX/hybridsgx_util.cpp
In file included from ServerSGX/main.cpp:24:
ServerSGX/npy.hpp: In function ‘npy::dtype_t npy::parse_descr(std::string)’:
ServerSGX/npy.hpp:168:37: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  168 |   unsigned int itemsize = std::stoul(itemsize_s);
      |                           ~~~~~~~~~~^~~~~~~~~~~~
In file included from ServerSGX/main.cpp:23:
ServerSGX/main.cpp: In function ‘void load_input_four(Feature*, uint8 (*)[28], int)’:
ServerSGX/lenet.c:12:44: warning: comparison of integer expressions of different signedness: ‘int’ and ‘long unsigned int’ [-Wsign-compare]
   12 | #define FOREACH(i,count) for (int i = 0; i < count; ++i)
ServerSGX/main.cpp:143:9: note: in expansion of macro ‘FOREACH’
  143 |         FOREACH(j, sizeof(image) / sizeof(*input))
      |         ^~~~~~~
ServerSGX/lenet.c:12:44: warning: comparison of integer expressions of different signedness: ‘int’ and ‘long unsigned int’ [-Wsign-compare]
   12 | #define FOREACH(i,count) for (int i = 0; i < count; ++i)
ServerSGX/main.cpp:144:17: note: in expansion of macro ‘FOREACH’
  144 |                 FOREACH(k, sizeof(*input) / sizeof(**input))
      |                 ^~~~~~~
ServerSGX/lenet.c:12:44: warning: comparison of integer expressions of different signedness: ‘int’ and ‘long unsigned int’ [-Wsign-compare]
   12 | #define FOREACH(i,count) for (int i = 0; i < count; ++i)
ServerSGX/main.cpp:151:9: note: in expansion of macro ‘FOREACH’
  151 |         FOREACH(j, sizeof(image) / sizeof(*input))
      |         ^~~~~~~
ServerSGX/lenet.c:12:44: warning: comparison of integer expressions of different signedness: ‘int’ and ‘long unsigned int’ [-Wsign-compare]
   12 | #define FOREACH(i,count) for (int i = 0; i < count; ++i)
ServerSGX/main.cpp:152:17: note: in expansion of macro ‘FOREACH’
  152 |                 FOREACH(k, sizeof(*input) / sizeof(**input))
      |                 ^~~~~~~
ServerSGX/main.cpp: In function ‘void grad_relu(int, double*, size_t)’:
ServerSGX/main.cpp:166:20: warning: declaration of ‘global_server_eid’ shadows a global declaration [-Wshadow]
  166 | void grad_relu(int global_server_eid, double *input, size_t n){
      |                ~~~~^~~~~~~~~~~~~~~~~
ServerSGX/main.cpp:70:18: note: shadowed declaration is here
   70 | sgx_enclave_id_t global_server_eid = 0;
      |                  ^~~~~~~~~~~~~~~~~
ServerSGX/main.cpp: In function ‘void grad_maxpool(int, double*, double*, double*, int, int, size_t, size_t)’:
ServerSGX/main.cpp:173:23: warning: declaration of ‘global_server_eid’ shadows a global declaration [-Wshadow]
  173 | void grad_maxpool(int global_server_eid, double *outerror, double *inerror, double *input,int C, int input_length, size_t n_out, size_t n_in){
      |                   ~~~~^~~~~~~~~~~~~~~~~
ServerSGX/main.cpp:70:18: note: shadowed declaration is here
   70 | sgx_enclave_id_t global_server_eid = 0;
      |                  ^~~~~~~~~~~~~~~~~
ServerSGX/main.cpp:173:50: warning: unused parameter ‘outerror’ [-Wunused-parameter]
  173 | void grad_maxpool(int global_server_eid, double *outerror, double *inerror, double *input,int C, int input_length, size_t n_out, size_t n_in){
      |                                          ~~~~~~~~^~~~~~~~
ServerSGX/main.cpp:173:85: warning: unused parameter ‘input’ [-Wunused-parameter]
  173 | void grad_maxpool(int global_server_eid, double *outerror, double *inerror, double *input,int C, int input_length, size_t n_out, size_t n_in){
      |                                                                             ~~~~~~~~^~~~~
ServerSGX/main.cpp: At global scope:
ServerSGX/main.cpp:190:5: warning: ‘int main(int)’ takes only zero or two arguments [-Wmain]
  190 | int main(int argc){
      |     ^~~~
CXX  <=  ServerSGX/util/connect.cpp
ServerSGX/main.cpp: In function ‘int main(int)’:
ServerSGX/main.cpp:276:24: warning: missing initializer for member ‘Feature::layer1’ [-Wmissing-field-initializers]
  276 |     Feature features={0};
      |                        ^
ServerSGX/main.cpp:276:24: warning: missing initializer for member ‘Feature::layer2’ [-Wmissing-field-initializers]
ServerSGX/main.cpp:276:24: warning: missing initializer for member ‘Feature::layer3’ [-Wmissing-field-initializers]
ServerSGX/main.cpp:276:24: warning: missing initializer for member ‘Feature::layer4’ [-Wmissing-field-initializers]
ServerSGX/main.cpp:276:24: warning: missing initializer for member ‘Feature::layer5’ [-Wmissing-field-initializers]
ServerSGX/main.cpp:276:24: warning: missing initializer for member ‘Feature::output’ [-Wmissing-field-initializers]
ServerSGX/main.cpp:311:61: warning: declaration of ‘shape_wv’ shadows a previous local [-Wshadow]
  311 |     VECTOR_WEIGHT_W_FILE(lenet->weight0_1,shape_wn,weight_v,shape_wv,weight_npy_file);
      |                                                             ^~~~~~~~
ServerSGX/main.cpp:97:32: note: in definition of macro ‘VECTOR_WEIGHT_W_FILE’
   97 |     std::vector<unsigned long> shapewv(shapewn,shapewn+4);          \
      |                                ^~~~~~~
ServerSGX/main.cpp:307:32: note: shadowed declaration is here
  307 |     std::vector<unsigned long> shape_wv(shape_wn,shape_wn+4);
      |                                ^~~~~~~~
ServerSGX/main.cpp:99:33: warning: declaration of ‘weight_npy’ shadows a previous local [-Wshadow]
   99 |     const npy::npy_data<double> weight_npy{weightv, shapewv, false};\
      |                                 ^~~~~~~~~~
ServerSGX/main.cpp:311:5: note: in expansion of macro ‘VECTOR_WEIGHT_W_FILE’
  311 |     VECTOR_WEIGHT_W_FILE(lenet->weight0_1,shape_wn,weight_v,shape_wv,weight_npy_file);
      |     ^~~~~~~~~~~~~~~~~~~~
ServerSGX/main.cpp:309:28: note: shadowed declaration is here
  309 |      npy::npy_data<double> weight_npy{weight_v, shape_wv, false};
      |                            ^~~~~~~~~~
ServerSGX/main.cpp:319:57: warning: declaration of ‘shape_bv’ shadows a previous local [-Wshadow]
  319 |     VECTOR_BIAS_W_FILE(lenet->weight2_3,shape_bn,bias_v,shape_bv,bias_npy_file);
      |                                                         ^~~~~~~~
ServerSGX/main.cpp:109:32: note: in definition of macro ‘VECTOR_BIAS_W_FILE’
  109 |     std::vector<unsigned long> shapebv(shapebn,shapebn+1);          \
      |                                ^~~~~~~
ServerSGX/main.cpp:315:32: note: shadowed declaration is here
  315 |     std::vector<unsigned long> shape_bv(shape_bn,shape_bn+1);
      |                                ^~~~~~~~
ServerSGX/main.cpp:111:33: warning: declaration of ‘bias_npy’ shadows a previous local [-Wshadow]
  111 |     const npy::npy_data<double> bias_npy{biasv, shapebv, false};    \
      |                                 ^~~~~~~~
ServerSGX/main.cpp:319:5: note: in expansion of macro ‘VECTOR_BIAS_W_FILE’
  319 |     VECTOR_BIAS_W_FILE(lenet->weight2_3,shape_bn,bias_v,shape_bv,bias_npy_file);
      |     ^~~~~~~~~~~~~~~~~~
ServerSGX/main.cpp:317:33: note: shadowed declaration is here
  317 |     const npy::npy_data<double> bias_npy{bias_v, shape_bv, false};
      |                                 ^~~~~~~~
ServerSGX/main.cpp:362:55: warning: declaration of ‘shape_v’ shadows a previous local [-Wshadow]
  362 |     VECTOR_DATA_W_FILE(features.layer2,shape_n,data_v,shape_v,data_npy_file);
      |                                                       ^~~~~~~
ServerSGX/main.cpp:82:32: note: in definition of macro ‘VECTOR_DATA_W_FILE’
   82 |     std::vector<unsigned long> shapev(shapen,shapen+4);     \
      |                                ^~~~~~
ServerSGX/main.cpp:297:32: note: shadowed declaration is here
  297 |     std::vector<unsigned long> shape_v(shape_n,shape_n+4);
      |                                ^~~~~~~
ServerSGX/main.cpp:84:33: warning: declaration of ‘data_npy’ shadows a previous local [-Wshadow]
   84 |     const npy::npy_data<double> data_npy{datav, shapev, false};\
      |                                 ^~~~~~~~
ServerSGX/main.cpp:362:5: note: in expansion of macro ‘VECTOR_DATA_W_FILE’
  362 |     VECTOR_DATA_W_FILE(features.layer2,shape_n,data_v,shape_v,data_npy_file);
      |     ^~~~~~~~~~~~~~~~~~
ServerSGX/main.cpp:300:33: note: shadowed declaration is here
  300 |     const npy::npy_data<double> data_npy{data_v, shape_v, false};
      |                                 ^~~~~~~~
ServerSGX/main.cpp:364:61: warning: declaration of ‘shape_wv’ shadows a previous local [-Wshadow]
  364 |     VECTOR_WEIGHT_W_FILE(lenet->weight2_3,shape_wn,weight_v,shape_wv,weight_npy_file);
      |                                                             ^~~~~~~~
ServerSGX/main.cpp:97:32: note: in definition of macro ‘VECTOR_WEIGHT_W_FILE’
   97 |     std::vector<unsigned long> shapewv(shapewn,shapewn+4);          \
      |                                ^~~~~~~
ServerSGX/main.cpp:307:32: note: shadowed declaration is here
  307 |     std::vector<unsigned long> shape_wv(shape_wn,shape_wn+4);
      |                                ^~~~~~~~
ServerSGX/main.cpp:99:33: warning: declaration of ‘weight_npy’ shadows a previous local [-Wshadow]
   99 |     const npy::npy_data<double> weight_npy{weightv, shapewv, false};\
      |                                 ^~~~~~~~~~
ServerSGX/main.cpp:364:5: note: in expansion of macro ‘VECTOR_WEIGHT_W_FILE’
  364 |     VECTOR_WEIGHT_W_FILE(lenet->weight2_3,shape_wn,weight_v,shape_wv,weight_npy_file);
      |     ^~~~~~~~~~~~~~~~~~~~
ServerSGX/main.cpp:309:28: note: shadowed declaration is here
  309 |      npy::npy_data<double> weight_npy{weight_v, shape_wv, false};
      |                            ^~~~~~~~~~
ServerSGX/main.cpp:366:55: warning: declaration of ‘shape_bv’ shadows a previous local [-Wshadow]
  366 |     VECTOR_BIAS_W_FILE(lenet->bias2_3,shape_bn,bias_v,shape_bv,bias_npy_file);
      |                                                       ^~~~~~~~
ServerSGX/main.cpp:109:32: note: in definition of macro ‘VECTOR_BIAS_W_FILE’
  109 |     std::vector<unsigned long> shapebv(shapebn,shapebn+1);          \
      |                                ^~~~~~~
ServerSGX/main.cpp:315:32: note: shadowed declaration is here
  315 |     std::vector<unsigned long> shape_bv(shape_bn,shape_bn+1);
      |                                ^~~~~~~~
ServerSGX/main.cpp:111:33: warning: declaration of ‘bias_npy’ shadows a previous local [-Wshadow]
  111 |     const npy::npy_data<double> bias_npy{biasv, shapebv, false};    \
      |                                 ^~~~~~~~
ServerSGX/main.cpp:366:5: note: in expansion of macro ‘VECTOR_BIAS_W_FILE’
  366 |     VECTOR_BIAS_W_FILE(lenet->bias2_3,shape_bn,bias_v,shape_bv,bias_npy_file);
      |     ^~~~~~~~~~~~~~~~~~
ServerSGX/main.cpp:317:33: note: shadowed declaration is here
  317 |     const npy::npy_data<double> bias_npy{bias_v, shape_bv, false};
      |                                 ^~~~~~~~
ServerSGX/main.cpp:388:55: warning: declaration of ‘shape_v’ shadows a previous local [-Wshadow]
  388 |     VECTOR_DATA_W_FILE(features.layer4,shape_n,data_v,shape_v,data_npy_file);
      |                                                       ^~~~~~~
ServerSGX/main.cpp:82:32: note: in definition of macro ‘VECTOR_DATA_W_FILE’
   82 |     std::vector<unsigned long> shapev(shapen,shapen+4);     \
      |                                ^~~~~~
ServerSGX/main.cpp:297:32: note: shadowed declaration is here
  297 |     std::vector<unsigned long> shape_v(shape_n,shape_n+4);
      |                                ^~~~~~~
ServerSGX/main.cpp:84:33: warning: declaration of ‘data_npy’ shadows a previous local [-Wshadow]
   84 |     const npy::npy_data<double> data_npy{datav, shapev, false};\
      |                                 ^~~~~~~~
ServerSGX/main.cpp:388:5: note: in expansion of macro ‘VECTOR_DATA_W_FILE’
  388 |     VECTOR_DATA_W_FILE(features.layer4,shape_n,data_v,shape_v,data_npy_file);
      |     ^~~~~~~~~~~~~~~~~~
ServerSGX/main.cpp:300:33: note: shadowed declaration is here
  300 |     const npy::npy_data<double> data_npy{data_v, shape_v, false};
      |                                 ^~~~~~~~
ServerSGX/main.cpp:390:61: warning: declaration of ‘shape_wv’ shadows a previous local [-Wshadow]
  390 |     VECTOR_WEIGHT_W_FILE(lenet->weight4_5,shape_wn,weight_v,shape_wv,weight_npy_file);
      |                                                             ^~~~~~~~
ServerSGX/main.cpp:97:32: note: in definition of macro ‘VECTOR_WEIGHT_W_FILE’
   97 |     std::vector<unsigned long> shapewv(shapewn,shapewn+4);          \
      |                                ^~~~~~~
ServerSGX/main.cpp:307:32: note: shadowed declaration is here
  307 |     std::vector<unsigned long> shape_wv(shape_wn,shape_wn+4);
      |                                ^~~~~~~~
ServerSGX/main.cpp:99:33: warning: declaration of ‘weight_npy’ shadows a previous local [-Wshadow]
   99 |     const npy::npy_data<double> weight_npy{weightv, shapewv, false};\
      |                                 ^~~~~~~~~~
ServerSGX/main.cpp:390:5: note: in expansion of macro ‘VECTOR_WEIGHT_W_FILE’
  390 |     VECTOR_WEIGHT_W_FILE(lenet->weight4_5,shape_wn,weight_v,shape_wv,weight_npy_file);
      |     ^~~~~~~~~~~~~~~~~~~~
ServerSGX/main.cpp:309:28: note: shadowed declaration is here
  309 |      npy::npy_data<double> weight_npy{weight_v, shape_wv, false};
      |                            ^~~~~~~~~~
ServerSGX/main.cpp:392:55: warning: declaration of ‘shape_bv’ shadows a previous local [-Wshadow]
  392 |     VECTOR_BIAS_W_FILE(lenet->bias4_5,shape_bn,bias_v,shape_bv,bias_npy_file);
      |                                                       ^~~~~~~~
ServerSGX/main.cpp:109:32: note: in definition of macro ‘VECTOR_BIAS_W_FILE’
  109 |     std::vector<unsigned long> shapebv(shapebn,shapebn+1);          \
      |                                ^~~~~~~
ServerSGX/main.cpp:315:32: note: shadowed declaration is here
  315 |     std::vector<unsigned long> shape_bv(shape_bn,shape_bn+1);
      |                                ^~~~~~~~
ServerSGX/main.cpp:111:33: warning: declaration of ‘bias_npy’ shadows a previous local [-Wshadow]
  111 |     const npy::npy_data<double> bias_npy{biasv, shapebv, false};    \
      |                                 ^~~~~~~~
ServerSGX/main.cpp:392:5: note: in expansion of macro ‘VECTOR_BIAS_W_FILE’
  392 |     VECTOR_BIAS_W_FILE(lenet->bias4_5,shape_bn,bias_v,shape_bv,bias_npy_file);
      |     ^~~~~~~~~~~~~~~~~~
ServerSGX/main.cpp:317:33: note: shadowed declaration is here
  317 |     const npy::npy_data<double> bias_npy{bias_v, shape_bv, false};
      |                                 ^~~~~~~~
ServerSGX/main.cpp:422:55: warning: declaration of ‘shape_bv’ shadows a previous local [-Wshadow]
  422 |     VECTOR_BIAS_W_FILE(lenet->bias5_6,shape_bn,bias_v,shape_bv,bias_npy_file);
      |                                                       ^~~~~~~~
ServerSGX/main.cpp:109:32: note: in definition of macro ‘VECTOR_BIAS_W_FILE’
  109 |     std::vector<unsigned long> shapebv(shapebn,shapebn+1);          \
      |                                ^~~~~~~
ServerSGX/main.cpp:315:32: note: shadowed declaration is here
  315 |     std::vector<unsigned long> shape_bv(shape_bn,shape_bn+1);
      |                                ^~~~~~~~
ServerSGX/main.cpp:111:33: warning: declaration of ‘bias_npy’ shadows a previous local [-Wshadow]
  111 |     const npy::npy_data<double> bias_npy{biasv, shapebv, false};    \
      |                                 ^~~~~~~~
ServerSGX/main.cpp:422:5: note: in expansion of macro ‘VECTOR_BIAS_W_FILE’
  422 |     VECTOR_BIAS_W_FILE(lenet->bias5_6,shape_bn,bias_v,shape_bv,bias_npy_file);
      |     ^~~~~~~~~~~~~~~~~~
ServerSGX/main.cpp:317:33: note: shadowed declaration is here
  317 |     const npy::npy_data<double> bias_npy{bias_v, shape_bv, false};
      |                                 ^~~~~~~~
ServerSGX/main.cpp:430:26: warning: missing initializer for member ‘Feature::layer1’ [-Wmissing-field-initializers]
  430 |     Feature errors = { 0 };
      |                          ^
ServerSGX/main.cpp:430:26: warning: missing initializer for member ‘Feature::layer2’ [-Wmissing-field-initializers]
ServerSGX/main.cpp:430:26: warning: missing initializer for member ‘Feature::layer3’ [-Wmissing-field-initializers]
ServerSGX/main.cpp:430:26: warning: missing initializer for member ‘Feature::layer4’ [-Wmissing-field-initializers]
ServerSGX/main.cpp:430:26: warning: missing initializer for member ‘Feature::layer5’ [-Wmissing-field-initializers]
ServerSGX/main.cpp:430:26: warning: missing initializer for member ‘Feature::output’ [-Wmissing-field-initializers]
ServerSGX/main.cpp:431:21: warning: missing initializer for member ‘LeNet5::weight2_3’ [-Wmissing-field-initializers]
  431 |     LeNet5 deltas={0};
      |                     ^
ServerSGX/main.cpp:431:21: warning: missing initializer for member ‘LeNet5::weight4_5’ [-Wmissing-field-initializers]
ServerSGX/main.cpp:431:21: warning: missing initializer for member ‘LeNet5::weight5_6’ [-Wmissing-field-initializers]
ServerSGX/main.cpp:431:21: warning: missing initializer for member ‘LeNet5::bias0_1’ [-Wmissing-field-initializers]
ServerSGX/main.cpp:431:21: warning: missing initializer for member ‘LeNet5::bias2_3’ [-Wmissing-field-initializers]
ServerSGX/main.cpp:431:21: warning: missing initializer for member ‘LeNet5::bias4_5’ [-Wmissing-field-initializers]
ServerSGX/main.cpp:431:21: warning: missing initializer for member ‘LeNet5::bias5_6’ [-Wmissing-field-initializers]
ServerSGX/main.cpp:441:15: warning: conversion from ‘sgx_enclave_id_t’ {aka ‘long unsigned int’} to ‘int’ may change value [-Wconversion]
  441 |     grad_relu(global_server_eid,((double*)errors.output),GETCOUNT(errors.output));
      |               ^~~~~~~~~~~~~~~~~
ServerSGX/main.cpp:489:15: warning: conversion from ‘sgx_enclave_id_t’ {aka ‘long unsigned int’} to ‘int’ may change value [-Wconversion]
  489 |     grad_relu(global_server_eid,((double*)errors.layer5),GETCOUNT(errors.layer5));
      |               ^~~~~~~~~~~~~~~~~
ServerSGX/main.cpp:491:54: warning: declaration of ‘shape_v’ shadows a previous local [-Wshadow]
  491 |     VECTOR_DATA_W_FILE(errors.layer5,shape_n, data_v,shape_v,outerror_npy_file);
      |                                                      ^~~~~~~
ServerSGX/main.cpp:82:32: note: in definition of macro ‘VECTOR_DATA_W_FILE’
   82 |     std::vector<unsigned long> shapev(shapen,shapen+4);     \
      |                                ^~~~~~
ServerSGX/main.cpp:297:32: note: shadowed declaration is here
  297 |     std::vector<unsigned long> shape_v(shape_n,shape_n+4);
      |                                ^~~~~~~
ServerSGX/main.cpp:84:33: warning: declaration of ‘data_npy’ shadows a previous local [-Wshadow]
   84 |     const npy::npy_data<double> data_npy{datav, shapev, false};\
      |                                 ^~~~~~~~
ServerSGX/main.cpp:491:5: note: in expansion of macro ‘VECTOR_DATA_W_FILE’
  491 |     VECTOR_DATA_W_FILE(errors.layer5,shape_n, data_v,shape_v,outerror_npy_file);
      |     ^~~~~~~~~~~~~~~~~~
ServerSGX/main.cpp:300:33: note: shadowed declaration is here
  300 |     const npy::npy_data<double> data_npy{data_v, shape_v, false};
      |                                 ^~~~~~~~
ServerSGX/main.cpp:493:62: warning: declaration of ‘shape_wv’ shadows a previous local [-Wshadow]
  493 |     VECTOR_WEIGHT_W_FILE(lenet->weight4_5,shape_wn, weight_v,shape_wv,weight_npy_file);
      |                                                              ^~~~~~~~
ServerSGX/main.cpp:97:32: note: in definition of macro ‘VECTOR_WEIGHT_W_FILE’
   97 |     std::vector<unsigned long> shapewv(shapewn,shapewn+4);          \
      |                                ^~~~~~~
ServerSGX/main.cpp:307:32: note: shadowed declaration is here
  307 |     std::vector<unsigned long> shape_wv(shape_wn,shape_wn+4);
      |                                ^~~~~~~~
ServerSGX/main.cpp:99:33: warning: declaration of ‘weight_npy’ shadows a previous local [-Wshadow]
   99 |     const npy::npy_data<double> weight_npy{weightv, shapewv, false};\
      |                                 ^~~~~~~~~~
ServerSGX/main.cpp:493:5: note: in expansion of macro ‘VECTOR_WEIGHT_W_FILE’
  493 |     VECTOR_WEIGHT_W_FILE(lenet->weight4_5,shape_wn, weight_v,shape_wv,weight_npy_file);
      |     ^~~~~~~~~~~~~~~~~~~~
ServerSGX/main.cpp:309:28: note: shadowed declaration is here
  309 |      npy::npy_data<double> weight_npy{weight_v, shape_wv, false};
      |                            ^~~~~~~~~~
ServerSGX/main.cpp:495:55: warning: declaration of ‘shape_bv’ shadows a previous local [-Wshadow]
  495 |     VECTOR_BIAS_W_FILE(lenet->bias4_5,shape_bn,bias_v,shape_bv,bias_npy_file);
      |                                                       ^~~~~~~~
ServerSGX/main.cpp:109:32: note: in definition of macro ‘VECTOR_BIAS_W_FILE’
  109 |     std::vector<unsigned long> shapebv(shapebn,shapebn+1);          \
      |                                ^~~~~~~
ServerSGX/main.cpp:315:32: note: shadowed declaration is here
  315 |     std::vector<unsigned long> shape_bv(shape_bn,shape_bn+1);
      |                                ^~~~~~~~
ServerSGX/main.cpp:111:33: warning: declaration of ‘bias_npy’ shadows a previous local [-Wshadow]
  111 |     const npy::npy_data<double> bias_npy{biasv, shapebv, false};    \
      |                                 ^~~~~~~~
ServerSGX/main.cpp:495:5: note: in expansion of macro ‘VECTOR_BIAS_W_FILE’
  495 |     VECTOR_BIAS_W_FILE(lenet->bias4_5,shape_bn,bias_v,shape_bv,bias_npy_file);
      |     ^~~~~~~~~~~~~~~~~~
ServerSGX/main.cpp:317:33: note: shadowed declaration is here
  317 |     const npy::npy_data<double> bias_npy{bias_v, shape_bv, false};
      |                                 ^~~~~~~~
ServerSGX/main.cpp:497:56: warning: declaration of ‘shape_v’ shadows a previous local [-Wshadow]
  497 |     VECTOR_DATA_W_FILE(features.layer4,shape_n, data_v,shape_v,input_npy_file);
      |                                                        ^~~~~~~
ServerSGX/main.cpp:82:32: note: in definition of macro ‘VECTOR_DATA_W_FILE’
   82 |     std::vector<unsigned long> shapev(shapen,shapen+4);     \
      |                                ^~~~~~
ServerSGX/main.cpp:297:32: note: shadowed declaration is here
  297 |     std::vector<unsigned long> shape_v(shape_n,shape_n+4);
      |                                ^~~~~~~
ServerSGX/main.cpp:84:33: warning: declaration of ‘data_npy’ shadows a previous local [-Wshadow]
   84 |     const npy::npy_data<double> data_npy{datav, shapev, false};\
      |                                 ^~~~~~~~
ServerSGX/main.cpp:497:5: note: in expansion of macro ‘VECTOR_DATA_W_FILE’
  497 |     VECTOR_DATA_W_FILE(features.layer4,shape_n, data_v,shape_v,input_npy_file);
      |     ^~~~~~~~~~~~~~~~~~
ServerSGX/main.cpp:300:33: note: shadowed declaration is here
  300 |     const npy::npy_data<double> data_npy{data_v, shape_v, false};
      |                                 ^~~~~~~~
ServerSGX/main.cpp:512:18: warning: conversion from ‘sgx_enclave_id_t’ {aka ‘long unsigned int’} to ‘int’ may change value [-Wconversion]
  512 |     grad_maxpool(global_server_eid,((double*)errors.layer4),((double*)errors.layer3),((double*)features.layer3),GETLENGTH(*errors.layer3),GETLENGTH(**errors.layer3),GETCOUNT(errors.layer4),GETCOUNT(errors.layer3));
      |                  ^~~~~~~~~~~~~~~~~
ServerSGX/main.cpp:517:15: warning: conversion from ‘sgx_enclave_id_t’ {aka ‘long unsigned int’} to ‘int’ may change value [-Wconversion]
  517 |     grad_relu(global_server_eid,((double*)errors.layer3),GETCOUNT(errors.layer3));
      |               ^~~~~~~~~~~~~~~~~
ServerSGX/main.cpp:519:54: warning: declaration of ‘shape_v’ shadows a previous local [-Wshadow]
  519 |     VECTOR_DATA_W_FILE(errors.layer3,shape_n, data_v,shape_v,outerror_npy_file);
      |                                                      ^~~~~~~
ServerSGX/main.cpp:82:32: note: in definition of macro ‘VECTOR_DATA_W_FILE’
   82 |     std::vector<unsigned long> shapev(shapen,shapen+4);     \
      |                                ^~~~~~
ServerSGX/main.cpp:297:32: note: shadowed declaration is here
  297 |     std::vector<unsigned long> shape_v(shape_n,shape_n+4);
      |                                ^~~~~~~
ServerSGX/main.cpp:84:33: warning: declaration of ‘data_npy’ shadows a previous local [-Wshadow]
   84 |     const npy::npy_data<double> data_npy{datav, shapev, false};\
      |                                 ^~~~~~~~
ServerSGX/main.cpp:519:5: note: in expansion of macro ‘VECTOR_DATA_W_FILE’
  519 |     VECTOR_DATA_W_FILE(errors.layer3,shape_n, data_v,shape_v,outerror_npy_file);
      |     ^~~~~~~~~~~~~~~~~~
ServerSGX/main.cpp:300:33: note: shadowed declaration is here
  300 |     const npy::npy_data<double> data_npy{data_v, shape_v, false};
      |                                 ^~~~~~~~
ServerSGX/main.cpp:521:62: warning: declaration of ‘shape_wv’ shadows a previous local [-Wshadow]
  521 |     VECTOR_WEIGHT_W_FILE(lenet->weight2_3,shape_wn, weight_v,shape_wv,weight_npy_file);
      |                                                              ^~~~~~~~
ServerSGX/main.cpp:97:32: note: in definition of macro ‘VECTOR_WEIGHT_W_FILE’
   97 |     std::vector<unsigned long> shapewv(shapewn,shapewn+4);          \
      |                                ^~~~~~~
ServerSGX/main.cpp:307:32: note: shadowed declaration is here
  307 |     std::vector<unsigned long> shape_wv(shape_wn,shape_wn+4);
      |                                ^~~~~~~~
ServerSGX/main.cpp:99:33: warning: declaration of ‘weight_npy’ shadows a previous local [-Wshadow]
   99 |     const npy::npy_data<double> weight_npy{weightv, shapewv, false};\
      |                                 ^~~~~~~~~~
ServerSGX/main.cpp:521:5: note: in expansion of macro ‘VECTOR_WEIGHT_W_FILE’
  521 |     VECTOR_WEIGHT_W_FILE(lenet->weight2_3,shape_wn, weight_v,shape_wv,weight_npy_file);
      |     ^~~~~~~~~~~~~~~~~~~~
ServerSGX/main.cpp:309:28: note: shadowed declaration is here
  309 |      npy::npy_data<double> weight_npy{weight_v, shape_wv, false};
      |                            ^~~~~~~~~~
ServerSGX/main.cpp:523:55: warning: declaration of ‘shape_bv’ shadows a previous local [-Wshadow]
  523 |     VECTOR_BIAS_W_FILE(lenet->bias2_3,shape_bn,bias_v,shape_bv,bias_npy_file);
      |                                                       ^~~~~~~~
ServerSGX/main.cpp:109:32: note: in definition of macro ‘VECTOR_BIAS_W_FILE’
  109 |     std::vector<unsigned long> shapebv(shapebn,shapebn+1);          \
      |                                ^~~~~~~
ServerSGX/main.cpp:315:32: note: shadowed declaration is here
  315 |     std::vector<unsigned long> shape_bv(shape_bn,shape_bn+1);
      |                                ^~~~~~~~
ServerSGX/main.cpp:111:33: warning: declaration of ‘bias_npy’ shadows a previous local [-Wshadow]
  111 |     const npy::npy_data<double> bias_npy{biasv, shapebv, false};    \
      |                                 ^~~~~~~~
ServerSGX/main.cpp:523:5: note: in expansion of macro ‘VECTOR_BIAS_W_FILE’
  523 |     VECTOR_BIAS_W_FILE(lenet->bias2_3,shape_bn,bias_v,shape_bv,bias_npy_file);
      |     ^~~~~~~~~~~~~~~~~~
ServerSGX/main.cpp:317:33: note: shadowed declaration is here
  317 |     const npy::npy_data<double> bias_npy{bias_v, shape_bv, false};
      |                                 ^~~~~~~~
ServerSGX/main.cpp:525:56: warning: declaration of ‘shape_v’ shadows a previous local [-Wshadow]
  525 |     VECTOR_DATA_W_FILE(features.layer2,shape_n, data_v,shape_v,input_npy_file);
      |                                                        ^~~~~~~
ServerSGX/main.cpp:82:32: note: in definition of macro ‘VECTOR_DATA_W_FILE’
   82 |     std::vector<unsigned long> shapev(shapen,shapen+4);     \
      |                                ^~~~~~
ServerSGX/main.cpp:297:32: note: shadowed declaration is here
  297 |     std::vector<unsigned long> shape_v(shape_n,shape_n+4);
      |                                ^~~~~~~
ServerSGX/main.cpp:84:33: warning: declaration of ‘data_npy’ shadows a previous local [-Wshadow]
   84 |     const npy::npy_data<double> data_npy{datav, shapev, false};\
      |                                 ^~~~~~~~
ServerSGX/main.cpp:525:5: note: in expansion of macro ‘VECTOR_DATA_W_FILE’
  525 |     VECTOR_DATA_W_FILE(features.layer2,shape_n, data_v,shape_v,input_npy_file);
      |     ^~~~~~~~~~~~~~~~~~
ServerSGX/main.cpp:300:33: note: shadowed declaration is here
  300 |     const npy::npy_data<double> data_npy{data_v, shape_v, false};
      |                                 ^~~~~~~~
ServerSGX/main.cpp:538:17: warning: conversion from ‘sgx_enclave_id_t’ {aka ‘long unsigned int’} to ‘int’ may change value [-Wconversion]
  538 |    grad_maxpool(global_server_eid,((double*)errors.layer2),((double*)errors.layer1),((double*)features.layer1),GETLENGTH(*errors.layer1),GETLENGTH(**errors.layer1),GETCOUNT(errors.layer2),GETCOUNT(errors.layer1));
      |                 ^~~~~~~~~~~~~~~~~
ServerSGX/main.cpp:541:15: warning: conversion from ‘sgx_enclave_id_t’ {aka ‘long unsigned int’} to ‘int’ may change value [-Wconversion]
  541 |     grad_relu(global_server_eid,((double*)errors.layer1),GETCOUNT(errors.input));
      |               ^~~~~~~~~~~~~~~~~
ServerSGX/main.cpp:543:54: warning: declaration of ‘shape_v’ shadows a previous local [-Wshadow]
  543 |     VECTOR_DATA_W_FILE(errors.layer1,shape_n, data_v,shape_v,outerror_npy_file);
      |                                                      ^~~~~~~
ServerSGX/main.cpp:82:32: note: in definition of macro ‘VECTOR_DATA_W_FILE’
   82 |     std::vector<unsigned long> shapev(shapen,shapen+4);     \
      |                                ^~~~~~
ServerSGX/main.cpp:297:32: note: shadowed declaration is here
  297 |     std::vector<unsigned long> shape_v(shape_n,shape_n+4);
      |                                ^~~~~~~
ServerSGX/main.cpp:84:33: warning: declaration of ‘data_npy’ shadows a previous local [-Wshadow]
   84 |     const npy::npy_data<double> data_npy{datav, shapev, false};\
      |                                 ^~~~~~~~
ServerSGX/main.cpp:543:5: note: in expansion of macro ‘VECTOR_DATA_W_FILE’
  543 |     VECTOR_DATA_W_FILE(errors.layer1,shape_n, data_v,shape_v,outerror_npy_file);
      |     ^~~~~~~~~~~~~~~~~~
ServerSGX/main.cpp:300:33: note: shadowed declaration is here
  300 |     const npy::npy_data<double> data_npy{data_v, shape_v, false};
      |                                 ^~~~~~~~
ServerSGX/main.cpp:545:62: warning: declaration of ‘shape_wv’ shadows a previous local [-Wshadow]
  545 |     VECTOR_WEIGHT_W_FILE(lenet->weight0_1,shape_wn, weight_v,shape_wv,weight_npy_file);
      |                                                              ^~~~~~~~
ServerSGX/main.cpp:97:32: note: in definition of macro ‘VECTOR_WEIGHT_W_FILE’
   97 |     std::vector<unsigned long> shapewv(shapewn,shapewn+4);          \
      |                                ^~~~~~~
ServerSGX/main.cpp:307:32: note: shadowed declaration is here
  307 |     std::vector<unsigned long> shape_wv(shape_wn,shape_wn+4);
      |                                ^~~~~~~~
ServerSGX/main.cpp:99:33: warning: declaration of ‘weight_npy’ shadows a previous local [-Wshadow]
   99 |     const npy::npy_data<double> weight_npy{weightv, shapewv, false};\
      |                                 ^~~~~~~~~~
ServerSGX/main.cpp:545:5: note: in expansion of macro ‘VECTOR_WEIGHT_W_FILE’
  545 |     VECTOR_WEIGHT_W_FILE(lenet->weight0_1,shape_wn, weight_v,shape_wv,weight_npy_file);
      |     ^~~~~~~~~~~~~~~~~~~~
ServerSGX/main.cpp:309:28: note: shadowed declaration is here
  309 |      npy::npy_data<double> weight_npy{weight_v, shape_wv, false};
      |                            ^~~~~~~~~~
ServerSGX/main.cpp:547:55: warning: declaration of ‘shape_bv’ shadows a previous local [-Wshadow]
  547 |     VECTOR_BIAS_W_FILE(lenet->bias0_1,shape_bn,bias_v,shape_bv,bias_npy_file);
      |                                                       ^~~~~~~~
ServerSGX/main.cpp:109:32: note: in definition of macro ‘VECTOR_BIAS_W_FILE’
  109 |     std::vector<unsigned long> shapebv(shapebn,shapebn+1);          \
      |                                ^~~~~~~
ServerSGX/main.cpp:315:32: note: shadowed declaration is here
  315 |     std::vector<unsigned long> shape_bv(shape_bn,shape_bn+1);
      |                                ^~~~~~~~
ServerSGX/main.cpp:111:33: warning: declaration of ‘bias_npy’ shadows a previous local [-Wshadow]
  111 |     const npy::npy_data<double> bias_npy{biasv, shapebv, false};    \
      |                                 ^~~~~~~~
ServerSGX/main.cpp:547:5: note: in expansion of macro ‘VECTOR_BIAS_W_FILE’
  547 |     VECTOR_BIAS_W_FILE(lenet->bias0_1,shape_bn,bias_v,shape_bv,bias_npy_file);
      |     ^~~~~~~~~~~~~~~~~~
ServerSGX/main.cpp:317:33: note: shadowed declaration is here
  317 |     const npy::npy_data<double> bias_npy{bias_v, shape_bv, false};
      |                                 ^~~~~~~~
ServerSGX/main.cpp:549:55: warning: declaration of ‘shape_v’ shadows a previous local [-Wshadow]
  549 |     VECTOR_DATA_W_FILE(features.input,shape_n, data_v,shape_v,input_npy_file);
      |                                                       ^~~~~~~
ServerSGX/main.cpp:82:32: note: in definition of macro ‘VECTOR_DATA_W_FILE’
   82 |     std::vector<unsigned long> shapev(shapen,shapen+4);     \
      |                                ^~~~~~
ServerSGX/main.cpp:297:32: note: shadowed declaration is here
  297 |     std::vector<unsigned long> shape_v(shape_n,shape_n+4);
      |                                ^~~~~~~
ServerSGX/main.cpp:84:33: warning: declaration of ‘data_npy’ shadows a previous local [-Wshadow]
   84 |     const npy::npy_data<double> data_npy{datav, shapev, false};\
      |                                 ^~~~~~~~
ServerSGX/main.cpp:549:5: note: in expansion of macro ‘VECTOR_DATA_W_FILE’
  549 |     VECTOR_DATA_W_FILE(features.input,shape_n, data_v,shape_v,input_npy_file);
      |     ^~~~~~~~~~~~~~~~~~
ServerSGX/main.cpp:300:33: note: shadowed declaration is here
  300 |     const npy::npy_data<double> data_npy{data_v, shape_v, false};
      |                                 ^~~~~~~~
ServerSGX/main.cpp:431:12: warning: unused variable ‘deltas’ [-Wunused-variable]
  431 |     LeNet5 deltas={0};
      |            ^~~~~~
ServerSGX/main.cpp:190:14: warning: unused parameter ‘argc’ [-Wunused-parameter]
  190 | int main(int argc){
      |          ~~~~^~~~
CXX  <=  ServerSGX/TrustedLibrary/Thread.cpp
In file included from ServerSGX/main.cpp:11:
ServerSGX/util/connect.h: In instantiation of ‘void sendVector(size_t, const std::vector<T>&) [with T = double; size_t = long unsigned int]’:
ServerSGX/main.cpp:236:15:   required from here
ServerSGX/util/connect.h:46:74: warning: conversion from ‘std::vector<double>::size_type’ {aka ‘long unsigned int’} to ‘int’ may change value [-Wconversion]
   46 |         if(!communicationSenders[player]->sendMsg(vec.data(), vec.size() * sizeof(T), 0)) {
      |                                                               ~~~~~~~~~~~^~~~~~~~~~~
In file included from ServerSGX/main.cpp:23:
ServerSGX/lenet.c: At global scope:
ServerSGX/lenet.c:201:14: warning: ‘uint8 get_result(Feature*, uint8)’ defined but not used [-Wunused-function]
  201 | static uint8 get_result(Feature *features, uint8 count)
      |              ^~~~~~~~~~
ServerSGX/lenet.c:194:13: warning: ‘void load_target(Feature*, Feature*, int)’ defined but not used [-Wunused-function]
  194 | static void load_target(Feature *features, Feature *errors, int label)
      |             ^~~~~~~~~~~
tcs_num 10, tcs_max_num 10, tcs_min_pool 1
[0;32mINFO: Enclave configuration 'MiscSelect' and 'MiscSelectMask' will prevent enclave from using dynamic features. To use the dynamic features on SGX2 platform, suggest to set MiscMask[0]=0 and MiscSelect[0]=1.
[0mThe required memory is 739110912B.
The required memory is 0x2c0df000, 721788 KB.
handle_compatible_metadata: Overwrite with metadata version 0x100000004
Succeed.
<EnclaveConfiguration>
    <ProdID>0</ProdID>
    <ISVSVN>0</ISVSVN>
    <StackMaxSize>0x4000000</StackMaxSize>
    <HeapMaxSize>0x4000000</HeapMaxSize>
    <TCSNum>10</TCSNum>
    <TCSPolicy>1</TCSPolicy>
    <!-- Recommend changing 'DisableDebug' to 1 to make the enclave undebuggable for enclave release -->
    <DisableDebug>0</DisableDebug>
    <MiscSelect>0</MiscSelect>
    <MiscMask>0xFFFFFFFF</MiscMask>
</EnclaveConfiguration>
SIGN =>  enclave.signed.so
CXX  <=  ServerSGX/main.cpp
The ServerSGX_Cpp_Objects are ServerSGX/main.o ServerSGX/hybridsgx_util.o ServerSGX/util/basicSockets.o ServerSGX/util/connect.o ServerSGX/util/Profiler.o ServerSGX/Edger8rSyntax/Arrays.o ServerSGX/Edger8rSyntax/Functions.o ServerSGX/Edger8rSyntax/Pointers.o ServerSGX/Edger8rSyntax/Types.o ServerSGX/Edger8rSyntax/Arrays.o ServerSGX/Edger8rSyntax/Functions.o ServerSGX/Edger8rSyntax/Pointers.o ServerSGX/Edger8rSyntax/Types.o ServerSGX/TrustedLibrary/Libc.o ServerSGX/TrustedLibrary/Libcxx.o ServerSGX/TrustedLibrary/Thread.o
The ServerSGX_Link_Flags are -fPIC -Wno-attributes -IInclude -IServerSGX -I/opt/intel/sgxsdk/include -fopenmp
Here is main_cpp running
The project has been built in debug hardware mode.
make[1]: Leaving directory '/home/jin/2023_11_22_com_model/LeNet_GPU_SGX/client'
